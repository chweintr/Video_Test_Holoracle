<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Echoes of Indiana â€” Touchscreen</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://app.simli.com/simli-widget/index.js" defer></script>
</head>
<body>
    <!-- Stage: The entire visible area -->
    <div id="stage">
        
        <!-- Background Layer (black = transparent on OLED) -->
        <div id="background">
            <img src="../kiosk/start.png" alt="" class="bg-image">
        </div>

        <!-- Menu State -->
        <div id="menu-state" class="state active">
            <!-- Hidden header (title is in background) -->
            <header class="menu-header">
                <h1>Echoes of Indiana</h1>
            </header>

            <!-- Visible tagline above personas -->
            <div class="tagline-bar">
                <p class="tagline">Commune with Indiana's past</p>
                <button class="about-btn" id="about-btn">About</button>
            </div>

            <div id="persona-grid">
                <!-- Personas injected by JS from shared config -->
            </div>

            <footer class="menu-footer">
                <p>Touch a portrait to begin</p>
            </footer>
        </div>

        <!-- About Modal -->
        <div id="about-modal" class="modal hidden">
            <div class="modal-content">
                <button class="modal-close" id="modal-close">&times;</button>
                <h2>Echoes of Indiana</h2>
                <p>A PastPresence installation by Caleb Weintraub</p>
                <p class="modal-body">
                    Echoes of Indiana brings together historical figures, cultural icons, 
                    and local legends through AI-powered conversations. Each persona is 
                    crafted from historical research, oral traditions, and creative interpretation 
                    to offer visitors a unique window into Indiana's rich heritage.
                </p>
                <p class="modal-footer">Touch outside to close</p>
            </div>
        </div>

        <!-- Active State (Simli conversation) -->
        <div id="active-state" class="state">
            <div id="simli-container">
                <!-- Simli widget spawns here -->
            </div>
            
            <button id="dismiss-btn" class="dismiss-btn">
                <span>Return</span>
            </button>
        </div>

    </div>

    <!-- Background Music -->
    <audio id="bg-music" loop preload="auto">
        <source src="../assets/Sound/echoes_background_music.m4a" type="audio/mp4">
    </audio>

    <!-- Volume Controls (subtle, bottom corner) -->
    <div id="volume-controls">
        <button id="volume-toggle" title="Toggle Music">ðŸ”Š</button>
        <input type="range" id="volume-slider" min="0" max="100" value="5" title="Volume">
    </div>

    <!-- Shared config from parent project -->
    <script src="../config.js"></script>
    
    <!-- Local touchscreen logic -->
    <script src="touchscreen.js"></script>
</body>
</html>

